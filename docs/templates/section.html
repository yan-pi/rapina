{% extends "docs-base.html" %}

{% block title %}{{ section.title }} - Rapina{% endblock %}

{% block content %}
{% set docs = get_section(path="docs/_index.md") %}
<div class="docs-layout">
    <aside class="docs-sidebar">
        <nav class="docs-nav">
            <h4>Documentation</h4>
            <ul>
                {% for subsection in docs.subsections %}
                    {% set sub = get_section(path=subsection) %}
                    <li class="docs-nav-section">
                        <a href="{{ sub.permalink }}" {% if sub.path == section.path %}class="active"{% endif %}>{{ sub.title }}</a>
                        {% if sub.pages %}
                        <ul>
                            {% for sub_page in sub.pages %}
                            <li>
                                <a href="{{ sub_page.permalink }}">
                                    {{ sub_page.title }}
                                </a>
                            </li>
                            {% endfor %}
                        </ul>
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        </nav>
    </aside>
    <article class="docs-content">
        <h1>{{ section.title }}</h1>
        {{ section.content | safe }}

        {% if section.pages %}
        <div class="section-pages">
            <h2>In this section</h2>
            <ul>
                {% for page in section.pages %}
                <li>
                    <a href="{{ page.permalink }}">
                        <strong>{{ page.title }}</strong>
                        {% if page.description %}<br><span>{{ page.description }}</span>{% endif %}
                    </a>
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </article>
</div>
{% endblock %}
